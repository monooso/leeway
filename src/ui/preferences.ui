<?xml version="1.0" encoding="UTF-8"?>
<interface>
  <template class="LeewayPreferencesDialog" parent="AdwPreferencesDialog">
    <property name="title" translatable="yes">Preferences</property>
    <property name="follows-content-size">True</property>
    <child>
      <object class="AdwPreferencesPage">
        <property name="title" translatable="yes">General</property>
        <property name="icon-name">preferences-system-symbolic</property>
        <child>
          <object class="AdwPreferencesGroup">
            <property name="title" translatable="yes">Refresh</property>
            <property name="description" translatable="yes">How often to fetch usage data from the API.</property>
            <child>
              <object class="AdwSpinRow" id="interval_row">
                <property name="title" translatable="yes">Refresh interval</property>
                <property name="subtitle" translatable="yes">Seconds between API requests</property>
                <property name="adjustment">
                  <object class="GtkAdjustment">
                    <property name="lower">15</property>
                    <property name="upper">300</property>
                    <property name="step-increment">5</property>
                    <property name="page-increment">15</property>
                  </object>
                </property>
              </object>
            </child>
          </object>
        </child>
        <child>
          <object class="AdwPreferencesGroup">
            <property name="title" translatable="yes">Notifications</property>
            <property name="description" translatable="yes">Desktop notifications when session usage reaches these thresholds.</property>
            <child>
              <object class="AdwSwitchRow" id="notify_75_row">
                <property name="title" translatable="yes">Notify at 75 %</property>
              </object>
            </child>
            <child>
              <object class="AdwSwitchRow" id="notify_90_row">
                <property name="title" translatable="yes">Notify at 90 %</property>
              </object>
            </child>
            <child>
              <object class="AdwSwitchRow" id="notify_95_row">
                <property name="title" translatable="yes">Notify at 95 %</property>
              </object>
            </child>
            <child>
              <object class="AdwActionRow">
                <property name="title" translatable="yes">Test notification</property>
                <property name="subtitle" translatable="yes">Send a test notification to verify delivery</property>
                <child type="suffix">
                  <object class="GtkButton" id="test_notification_button">
                    <property name="label" translatable="yes">Send</property>
                    <property name="valign">center</property>
                    <style>
                      <class name="suggested-action"/>
                    </style>
                  </object>
                </child>
              </object>
            </child>
          </object>
        </child>
        <child>
          <object class="AdwPreferencesGroup">
            <property name="title" translatable="yes">Claude Code Statusline</property>
            <property name="description" translatable="yes">Show usage in the Claude Code terminal status line.</property>
            <child>
              <object class="AdwSwitchRow" id="statusline_row">
                <property name="title" translatable="yes">Enable statusline</property>
                <property name="subtitle" translatable="yes">Installs a bash script to ~/.claude/</property>
              </object>
            </child>
          </object>
        </child>
      </object>
    </child>
  </template>
</interface>
